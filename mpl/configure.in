AC_PREREQ(2.62)
#
# (C) 2006 by Argonne National Laboratory.
#     See COPYRIGHT in top-level directory.
#

AC_INIT([MPL], [0.1])
AC_CONFIG_AUX_DIR(confdb)
AM_INIT_AUTOMAKE([-Wall -Werror foreign])

AC_CONFIG_HEADER(include/mplconf.h)
AX_PREFIX_CONFIG_H([include/mplconfig.h],[MPL])

dnl Enable better caching control
PAC_ARG_CACHING

AC_PROG_CC
AC_PROG_RANLIB

dnl Check if the necessary headers are available
AC_CHECK_HEADERS(stdio.h stdlib.h string.h math.h stdarg.h)

dnl Check for strdup
AC_CHECK_FUNCS(strdup)
if test "$ac_cv_func_strdup" = "yes" ; then
   PAC_FUNC_NEEDS_DECL([#include <string.h>],strdup)
fi

dnl Check for snprintf
AC_CHECK_FUNCS(snprintf)
if test "$ac_cv_func_snprintf" = "yes" ; then
    PAC_FUNC_NEEDS_DECL([#include <stdio.h>],snprintf)
fi

dnl Check for ATTRIBUTE
PAC_C_GNU_ATTRIBUTE

dnl Final output
AC_OUTPUT(Makefile)
